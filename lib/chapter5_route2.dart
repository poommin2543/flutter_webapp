import 'dart:convert';
import 'dart:html' as html;
import 'package:flutter/foundation.dart' show kIsWeb;
import 'package:flutter/material.dart';
import 'package:http/http.dart' as http;
import 'summary_page.dart';
import 'constants.dart';

class Chapter5Route2Page extends StatefulWidget {
  final int chapter;
  final String username;
  final int routeId;
  final VoidCallback onFinished;

  Chapter5Route2Page({
    required this.chapter,
    required this.username,
    required this.routeId,
    required this.onFinished,
  });

  @override
  _Chapter5Route2PageState createState() => _Chapter5Route2PageState();
}

class _Chapter5Route2PageState extends State<Chapter5Route2Page> {
  final List<String> questions = [
    '''
‡∏ï‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏°.2 ‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏Å‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏™‡∏°‡∏≠. ‡πÅ‡∏ï‡πà‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏Ç‡∏≤‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏î‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à. 
‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏≠‡∏ö‡∏ï‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤. ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏£‡∏π‡∏Å‡πá‡∏û‡∏π‡∏î‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏ß‡πà‡∏≤, "‡∏ï‡πâ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ô‡∏∞. ‡πÑ‡∏°‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡πà‡∏≠ ‡∏°.3 ‡∏¢‡∏≤‡∏Å."

‡∏Å‡∏•‡∏±‡∏ö‡∏ñ‡∏∂‡∏á‡∏ö‡πâ‡∏≤‡∏ô, ‡∏û‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÅ‡∏°‡πà‡∏Å‡πá‡∏¢‡∏∏‡πà‡∏á‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô. ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏à‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏Ñ‡∏¢. 
‡∏ï‡πâ‡∏ô‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÇ‡∏î‡∏î‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß. ‡πÑ‡∏°‡πà‡∏Å‡∏•‡πâ‡∏≤‡∏ö‡∏≠‡∏Å‡πÉ‡∏Ñ‡∏£‡∏ß‡πà‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ö‡∏™‡∏ô.

‡∏ß‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ä‡∏ß‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏õ‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏µ‡∏¨‡∏≤. 
‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ô‡∏±‡πà‡∏á‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô, ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Ñ‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏´‡∏¢‡∏¥‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤:

"‡πÄ‡∏Æ‡πâ, ‡∏•‡∏≠‡∏á‡∏î‡∏π‡∏î‡∏¥. ‡∏™‡∏π‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏™‡∏ö‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÄ‡∏•‡∏¢‡∏ô‡∏∞. ‡∏û‡∏ß‡∏Å‡πÄ‡∏£‡∏≤‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏Å‡πá‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß. ‡∏ô‡∏≤‡∏¢‡πÄ‡∏≠‡∏á‡∏Å‡πá‡∏Ñ‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ä‡πà‡∏°‡∏±‡πâ‡∏¢?"

‡∏ï‡πâ‡∏ô‡∏•‡∏±‡∏á‡πÄ‡∏•‡πÉ‡∏ô‡πÉ‡∏à. ‡πÄ‡∏Ç‡∏≤‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏î‡∏µ. ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏Ç‡∏≤. 
‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏•‡∏≠‡∏á‡∏™‡∏±‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢, ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÅ‡∏¢‡πà ‡πÜ ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà.
''',

    '''‡πÅ‡∏û‡∏£ ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏î‡πá‡∏Å ‡∏°.2 ‡∏ó‡∏µ‡πà‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡∏Ç‡∏£‡∏∂‡∏°‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö. ‡πÄ‡∏ò‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡∏û‡πà‡∏≠‡πÅ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏™‡∏°‡∏≠ ‡πÅ‡∏•‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ô. ‡πÅ‡∏ï‡πà‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡πÅ‡∏û‡∏£‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ö‡πâ‡∏≤‡∏ô.

‡∏û‡πà‡∏≠‡πÅ‡∏°‡πà‡∏Ç‡∏≠‡∏á‡πÅ‡∏û‡∏£‡∏°‡∏±‡∏Å‡∏ó‡∏∞‡πÄ‡∏•‡∏≤‡∏∞‡∏Å‡∏±‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏±‡∏á‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏á. ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏û‡πà‡∏≠‡∏Å‡πá‡∏´‡∏á‡∏∏‡∏î‡∏´‡∏á‡∏¥‡∏î‡πÉ‡∏™‡πà‡πÅ‡∏û‡∏£ ‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏ò‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ú‡∏¥‡∏î.

‡πÅ‡∏û‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏ò‡∏≠‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ. ‡πÄ‡∏ò‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏Å‡∏•‡πâ‡∏≤‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÉ‡∏Ñ‡∏£. ‡πÅ‡∏°‡πâ‡πÅ‡∏ï‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏™‡∏ô‡∏¥‡∏ó‡∏Å‡πá‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏ò‡∏≠‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ú‡∏ä‡∏¥‡∏ç‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡∏π‡πà.

‡∏ß‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏°‡∏≤‡∏ä‡∏ß‡∏ô‡πÄ‡∏ò‡∏≠‡∏ß‡πà‡∏≤: ‚Äú‡∏•‡∏≠‡∏á‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏î‡∏π‡∏°‡∏±‡πâ‡∏¢? ‡∏°‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏•‡∏∑‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏î‡πâ. ‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏ò‡∏≠‡∏ô‡∏∞.‚Äù

‡πÅ‡∏û‡∏£‡∏•‡∏±‡∏á‡πÄ‡∏•. ‡πÉ‡∏ô‡πÉ‡∏à‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏î‡∏µ. ‡πÅ‡∏ï‡πà‡∏Å‡πá‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢ ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ó‡∏µ‡πà‡∏û‡∏∂‡πà‡∏á.''',

    '''‡πÄ‡∏°‡∏Ü ‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏°.3 ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏¢‡πâ‡∏≤‡∏¢‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏ó‡∏≠‡∏°. ‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏°‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á ‡πÅ‡∏•‡∏∞‡∏°‡∏±‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß.

‡∏ß‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á ‡πÄ‡∏Ç‡∏≤‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏π‡∏™‡∏ô‡∏¥‡∏ó‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞‡πÅ‡∏•‡∏∞‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô.

‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏°‡∏Ü‡πÄ‡∏î‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô ‡∏à‡∏∂‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏°‡∏≤‡∏ó‡∏±‡∏Å ‡πÅ‡∏•‡∏∞‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤: ‚Äú‡πÄ‡∏Æ‡πâ ‡∏°‡∏≤‡∏ô‡∏±‡πà‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏™‡∏¥. ‡πÄ‡∏£‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏≠‡∏á‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà. ‡∏•‡∏≠‡∏á‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏™‡∏¥ ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏™‡∏ô‡∏¥‡∏ó‡∏Å‡∏±‡∏ô‡πÑ‡∏ß ‡πÜ.‚Äù

‡πÄ‡∏°‡∏Ü‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ô‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏∏‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å. ‡πÅ‡∏ï‡πà‡∏Å‡πá‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏î‡∏µ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏•‡∏≠‡∏á‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô.''',

    //"‡∏ü‡πâ‡∏≤ ‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ç‡∏¥‡∏á ‡∏°.2 ‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏î‡∏π‡∏Ñ‡∏•‡∏¥‡∏õ TikTok ‡πÅ‡∏•‡∏∞ YouTube ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥ ‡∏ß‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÄ‡∏ò‡∏≠‡πÄ‡∏à‡∏≠‡∏Ñ‡∏•‡∏¥‡∏õ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÇ‡∏î‡∏¢ Influencer ‡∏Ñ‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏ò‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ô‡∏≤‡∏ô\n\n"
    //    "‡πÉ‡∏ô‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ô‡∏±‡πâ‡∏ô Influencer ‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤: ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏Ç‡∏≠‡∏á‡∏õ‡∏µ‡∏ô‡∏µ‡πâ ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏≠‡∏á‡∏∏‡πà‡∏ô‡πÄ‡∏¢‡πá‡∏ô ‡∏™‡∏π‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡πá‡∏ô‡∏ï‡∏¥‡∏î‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡πÄ‡∏•‡∏¢ ‡πÉ‡∏Ñ‡∏£‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏•‡∏≠‡∏á ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡πÄ‡∏≠‡πâ‡∏≤‡∏ó‡πå!\n\n"
    //    "‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏ó‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å ‡πÄ‡∏ó‡πà ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÄ‡∏û‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏° ‡∏ü‡πâ‡∏≤‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ß‡πà‡∏≤ ‡∏°‡∏±‡∏ô‡∏Å‡πá‡∏î‡∏π‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏î‡∏µ‡∏ô‡∏∞ ‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏°‡∏≤ ‡∏°‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤ ‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ô‡∏±‡πâ‡∏ô‡∏¢‡∏±‡∏á ‡∏ü‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏≠‡∏á‡∏ö‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏´‡∏•‡∏∞ ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏ó‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏Ç‡∏≤\n\n"
    //    "‡∏ü‡πâ‡∏≤‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏≠‡∏á ‡∏ó‡∏±‡πâ‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ ‡πÅ‡∏•‡∏∞‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏î‡∏î‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",

    //"‡πÄ‡∏ö‡∏ô‡∏ã‡πå ‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏°.2 ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏ß‡∏±‡∏¢‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢ ‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡πÄ‡∏Å‡πà‡∏á ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏î‡∏µ ‡∏°‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÅ‡∏•‡∏∞‡∏°‡∏±‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ö‡∏ô‡∏ã‡πå‡∏ä‡∏∑‡πà‡∏ô‡∏ä‡∏°‡∏°‡∏≤‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏î‡πá‡∏Å\n\n"
    //   "‡∏ß‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á ‡πÄ‡∏ö‡∏ô‡∏ã‡πå‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏´‡πá‡∏ô‡∏û‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà ‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏û‡∏π‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏ß‡πà‡∏≤: ‚Äú‡πÇ‡∏ï‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏≤‡∏¢‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏•‡∏≠‡∏á‡∏ö‡πâ‡∏≤‡∏á‡∏ô‡∏∞ ‡∏°‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏Å‚Äù\n\n"
    //    "‡πÄ‡∏ö‡∏ô‡∏ã‡πå‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏™‡∏±‡∏ö‡∏™‡∏ô‡πÉ‡∏ô‡πÉ‡∏à ‡πÄ‡∏Ç‡∏≤‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢ ‡πÅ‡∏ï‡πà‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏Å‡πá‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö",
    "‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏Ñ‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‡πÉ‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á ‡πÄ‡∏£‡∏≤‡∏Ñ‡∏ß‡∏£?",
    "‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏≠‡∏á‡∏ö‡πà‡∏≠‡∏¢ ‡∏Ñ‡∏ß‡∏£?",
    "‡∏ñ‡πâ‡∏≤‡∏ñ‡∏π‡∏Å‡∏•‡πâ‡∏≠‡∏ß‡πà‡∏≤ ‚Äú‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏°‡πà‡∏Å‡∏•‡πâ‡∏≤‡∏•‡∏≠‡∏á‚Äù ‡∏Ñ‡∏ß‡∏£?",
    //"‡∏ñ‡πâ‡∏≤‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏≠‡∏á‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
    //"‡∏ñ‡πâ‡∏≤‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏†‡∏≤‡∏Ñ‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏´‡∏¢‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤?",
  ];

  final List<List<String>> options = [
    [
      "‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏†‡∏≤‡∏û‡∏ß‡πà‡∏≤ ‚Äú‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡πÑ‡∏°‡πà‡∏•‡∏≠‡∏á‡∏ô‡∏∞ ‡πÄ‡∏£‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏´‡∏≤‡∏ó‡∏≤‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡∏∑‡πà‡∏ô‚Äù ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏î‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏á‡∏µ‡∏¢‡∏ö ‡πÜ ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå",
      "‡∏•‡∏≠‡∏á‡∏î‡∏π‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏´‡∏° ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á",
      "‡πÑ‡∏°‡πà‡∏û‡∏π‡∏î‡∏≠‡∏∞‡πÑ‡∏£ ‡∏£‡∏±‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏Å‡∏•‡πâ‡∏≤",
      "‡πÅ‡∏Å‡∏•‡πâ‡∏á‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞ ‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤ ‚Äú‡πÑ‡∏ß‡πâ‡∏Ñ‡πà‡∏≠‡∏¢‡∏•‡∏≠‡∏á‡∏•‡∏∞‡∏Å‡∏±‡∏ô‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß",
    ],
    [
      "‡∏û‡∏π‡∏î‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à ‡πÅ‡∏ï‡πà‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ ‚Äú‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡∏´‡∏≤‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏ô‡∏∞‚Äù ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡∏≠‡∏≤‡∏£‡∏µ‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏≠‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏à‡∏≤‡∏Å‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡πÑ‡∏ß‡πâ‡πÉ‡∏à‡πÑ‡∏î‡πâ",
      "‡πÑ‡∏°‡πà‡∏û‡∏π‡∏î‡∏≠‡∏∞‡πÑ‡∏£ ‡∏´‡∏¢‡∏¥‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏°‡∏≤‡∏™‡∏π‡∏ö ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏∞‡∏´‡∏±‡∏ô‡πÑ‡∏õ‡∏û‡∏∂‡πà‡∏á‡πÉ‡∏Ñ‡∏£",
      "‡∏£‡∏±‡∏ö‡∏°‡∏≤‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡∏π‡∏ö ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏´‡∏°",
      "‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡πÉ‡∏ô‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏≠‡∏Ñ‡∏ô‡∏°‡∏≤‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏à",
    ],

    [
      "‡∏¢‡∏≠‡∏°‡∏•‡∏≠‡∏á‡∏™‡∏π‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏° ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á",
      "‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏ô‡∏µ ‡πÑ‡∏°‡πà‡∏û‡∏π‡∏î‡∏≠‡∏∞‡πÑ‡∏£",
      "‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞‡∏Å‡∏•‡∏ö‡πÄ‡∏Å‡∏•‡∏∑‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ ‚Äú‡πÑ‡∏ß‡πâ‡∏Ñ‡∏£‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏•‡∏∞‡∏Å‡∏±‡∏ô‚Äù",
      "‡∏ö‡∏≠‡∏Å‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤ ‚Äú‡πÄ‡∏£‡∏≤‡∏î‡∏µ‡πÉ‡∏à‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ô‡∏∞ ‡πÅ‡∏ï‡πà‡∏Ç‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏π‡∏ö ‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡πÅ‡∏Ñ‡πà‡∏ô‡∏±‡πà‡∏á‡∏Ñ‡∏∏‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°‚Äù",
    ],

    //[
    //  "‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏ï‡πâ‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ß‡πà‡∏≤ ‚Äú‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏≠‡∏á‡∏ö‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß‚Äù",
    //  "‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ß‡πà‡∏≤ influencer ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç ‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ú‡∏¥‡∏î",
    //  "‡πÅ‡∏ä‡∏£‡πå‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ô‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏î‡∏π",
    //  "‡πÑ‡∏õ‡∏ã‡∏∑‡πâ‡∏≠‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏°‡∏≤‡∏•‡∏≠‡∏á‡πÄ‡∏≠‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏´‡∏°",
    //],

    //[
    //  "‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏ó‡πà‡∏ï‡∏≤‡∏° ‡πÅ‡∏•‡πâ‡∏ß‡∏Ç‡∏≠‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏•‡∏≠‡∏á‡∏î‡∏π‡∏ö‡πâ‡∏≤‡∏á",
    //  "‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡πÑ‡∏ß‡πâ ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏î‡∏π",
    //  "‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ß‡πà‡∏≤‡πÅ‡∏°‡πâ‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏î‡πâ‡∏≤‡∏ô ‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏ï‡∏≤‡∏° ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏•‡∏≠‡∏á",
    //  "‡πÑ‡∏°‡πà‡∏û‡∏π‡∏î‡∏≠‡∏∞‡πÑ‡∏£ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏á‡∏™‡∏±‡∏¢‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÉ‡∏à",
    //],
    [
      "‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô ",
      "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á",
      "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏ä‡∏≠‡∏ö",
      "‡∏•‡∏≠‡∏á‡∏î‡∏π‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ",
    ],
    ["‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á", "‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ú‡πà‡∏≤‡∏ô", "‡∏Å‡∏î‡∏î‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á", "‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î"],
    [
      "‡∏•‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏î‡∏π",
      "‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏ô‡πÉ‡∏à",
      "‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏ô‡∏µ",
      "‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞‡∏ï‡∏≤‡∏°",
    ],
    //[
    //  "‡πÉ‡∏ä‡πâ‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Ñ‡∏•‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î",
    // "‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏µ‡∏¨‡∏≤/‡∏ß‡∏≤‡∏î‡∏†‡∏≤‡∏û/‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏ß‡πâ‡πÉ‡∏à",
    //  " ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏õ‡∏•‡∏Å‡πÉ‡∏´‡∏°‡πà",
    //  "‡πÄ‡∏â‡∏¢‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÑ‡∏õ",
    //],
    //["‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á", "‡∏î‡∏∑‡πâ‡∏≠", "‡∏Å‡∏•‡∏±‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô", "‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏î"],
  ];

  final List<String> answers = [
    "‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏†‡∏≤‡∏û‡∏ß‡πà‡∏≤ ‚Äú‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡πÑ‡∏°‡πà‡∏•‡∏≠‡∏á‡∏ô‡∏∞ ‡πÄ‡∏£‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏´‡∏≤‡∏ó‡∏≤‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡∏≠‡∏∑‡πà‡∏ô‚Äù ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏î‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏á‡∏µ‡∏¢‡∏ö ‡πÜ ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå",
    "‡∏û‡∏π‡∏î‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à ‡πÅ‡∏ï‡πà‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ ‚Äú‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡∏´‡∏≤‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏ô‡∏∞‚Äù ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡∏≠‡∏≤‡∏£‡∏µ‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏≠‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏à‡∏≤‡∏Å‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡πÑ‡∏ß‡πâ‡πÉ‡∏à‡πÑ‡∏î‡πâ",
    "‡∏ö‡∏≠‡∏Å‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤ ‚Äú‡πÄ‡∏£‡∏≤‡∏î‡∏µ‡πÉ‡∏à‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ô‡∏∞ ‡πÅ‡∏ï‡πà‡∏Ç‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏π‡∏ö ‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡πÅ‡∏Ñ‡πà‡∏ô‡∏±‡πà‡∏á‡∏Ñ‡∏∏‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°‚Äù",
    //"‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ß‡πà‡∏≤ influencer ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç ‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ú‡∏¥‡∏î",
    //"‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ß‡πà‡∏≤‡πÅ‡∏°‡πâ‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏î‡πâ‡∏≤‡∏ô ‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏ï‡∏≤‡∏° ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏•‡∏≠‡∏á",
    "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á",
    "‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á",
    "‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏ô‡πÉ‡∏à",
    //"‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏µ‡∏¨‡∏≤/‡∏ß‡∏≤‡∏î‡∏†‡∏≤‡∏û/‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏ß‡πâ‡πÉ‡∏à",
    //"‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á",
  ];

  final List<String> Sub_questions = [
    "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏ï‡∏Å‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ?",
    "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏û‡∏£ ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡∏ï‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏ô‡∏µ‡πâ ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤?",
    "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏°‡∏Ü ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏µ‡∏¢‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏°‡∏¥‡∏ï‡∏£‡∏†‡∏≤‡∏û ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏¢‡∏∂‡∏î‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á?",
    //"‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ü‡πâ‡∏≤ ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏ô‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
    //"‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ö‡∏ô‡∏ã‡πå ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ?",
    " ",
    " ",
    " ",
    //" ",
    //" ",
  ];

  late List<String> userAnswers;
  int currentIndex = 0;
  int score = 0;
  bool answered = false;
  bool isSubmitting = false;
  bool isCorrect = false;
  final html.SpeechSynthesis synth = html.window.speechSynthesis!;

  String characterImage = 'assets/images/buddy_8.png';
  final html.AudioElement correctAudio = html.AudioElement(
    'assets/sounds/correct.mp3',
  )..preload = 'auto';
  final html.AudioElement wrongAudio = html.AudioElement(
    'assets/sounds/wrong.mp3',
  )..preload = 'auto';
  final html.AudioElement backgroundAudio =
      html.AudioElement('assets/sounds/background.mp3')
        ..loop = true
        ..autoplay = true
        ..volume = 0.3;

  @override
  void initState() {
    super.initState();
    userAnswers = List.filled(questions.length, "");
    backgroundAudio.play();
    _speakIfNeeded();
  }

  @override
  void dispose() {
    backgroundAudio.pause();
    backgroundAudio.src = '';
    super.dispose();
  }

  void _speakIfNeeded() {
    //if (kIsWeb && currentIndex < 5) {
    if (kIsWeb && currentIndex < 3) {
      _speak(questions[currentIndex]);
    }
  }

  void _speak(String text) {
    if (!kIsWeb) return;

    final synth = html.window.speechSynthesis;
    if (synth != null) {
      final utterance = html.SpeechSynthesisUtterance(text)
        ..lang = 'th-TH'
        ..rate = 0.85
        ..pitch = 1.2
        ..volume = 1.0;

      final voices = synth.getVoices();

      // ‚úÖ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô voices ‡∏ß‡πà‡∏≤‡∏á (‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ .first error)
      if (voices.isNotEmpty) {
        final thaiVoice = voices.firstWhere(
          (v) => v.lang == 'th-TH',
          orElse: () => voices.first,
        );
        utterance.voice = thaiVoice;
      }

      synth.cancel();
      synth.speak(utterance);
    } else {
      print('‚ùó speechSynthesis ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ');
    }
  }

  Future<void> _submitAnswer() async {
    if (answered || isSubmitting) return;
    setState(() => isSubmitting = true);

    isCorrect = userAnswers[currentIndex] == answers[currentIndex];
    if (isCorrect) {
      score++;
      correctAudio.currentTime = 0;
      correctAudio.play();
    } else {
      wrongAudio.currentTime = 0;
      wrongAudio.play();
    }

    setState(() {
      characterImage = isCorrect
          ? 'assets/images/buddy_8c.gif'
          : 'assets/images/buddy_8w.gif';
      answered = true;
    });

    await Future.delayed(const Duration(seconds: 2));

    if (currentIndex + 1 < questions.length) {
      setState(() {
        currentIndex++;
        answered = false;
        isSubmitting = false;
        characterImage = 'assets/images/buddy_8.png';
      });
      _speakIfNeeded();
    } else {
      _showResultDialog();
    }
  }

  void _showTextDialog(String text) {
    showDialog(
      context: context,
      builder: (_) => AlertDialog(
        title: const Text("‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå"),
        content: SingleChildScrollView(
          child: Text(text, style: const TextStyle(fontSize: 20)),
        ),
        actions: [
          TextButton(
            onPressed: () => Navigator.pop(context),
            child: const Text("‡∏õ‡∏¥‡∏î", style: TextStyle(fontSize: 18)),
          ),
        ],
      ),
    );
  }

  void _showResultDialog() async {
    // ‡∏™‡πà‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÑ‡∏õ Backend
    bool isCurrentChapterQuizFinished = true; // ‡∏à‡∏ö‡∏ö‡∏ó‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô
    int chapterToAdvanceTo = widget.chapter;
    int routeIdToAdvanceTo = widget.routeId;

    if (isCurrentChapterQuizFinished) {
      chapterToAdvanceTo = 1; // ‡πÑ‡∏õ Chapter ‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà
      routeIdToAdvanceTo = widget.routeId + 1; // ‡πÑ‡∏õ Route ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
    }

    try {
      final response = await http.post(
        Uri.parse('${AppConstants.API_BASE_URL}/submit_score'),
        headers: {'Content-Type': 'application/json'},
        body: jsonEncode({
          'username': widget.username,
          'chapter': widget.chapter,
          'score': score,
          'route_id': widget.routeId,
          'is_finished': isCurrentChapterQuizFinished,
          'next_chapter': chapterToAdvanceTo,
          'next_route_id': routeIdToAdvanceTo,
        }),
      );

      if (response.statusCode == 200) {
        print('‚úÖ Score submitted successfully!');
      } else {
        print('‚ùå Failed to submit score: ${response.statusCode}');
      }
    } catch (e) {
      print('üö® Error submitting score: $e');
    }

    // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    showDialog(
      context: context,
      builder: (_) => AlertDialog(
        title: const Text("‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"),
        content: Text("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô $score ‡∏à‡∏≤‡∏Å ${questions.length} ‡∏Ç‡πâ‡∏≠"),
        actions: [
          TextButton(
            onPressed: () {
              Navigator.pop(context);
              Navigator.pushReplacement(
                context,
                MaterialPageRoute(
                  builder: (_) => SummaryPage(username: widget.username),
                ),
              );
            },
            child: const Text("‡∏ï‡∏Å‡∏•‡∏á"),
          ),
        ],
      ),
    );
  }

  Color _optionColor(String opt) {
    if (!answered) return Colors.transparent;
    if (opt == answers[currentIndex]) return Colors.green.withOpacity(0.3);
    if (opt == userAnswers[currentIndex] && !isCorrect)
      return Colors.red.withOpacity(0.3);
    return Colors.transparent;
  }

  @override
  Widget build(BuildContext context) {
    //final bool isVoiceQuestion = currentIndex < 5;
    final bool isVoiceQuestion = currentIndex < 3;

    return Scaffold(
      appBar: AppBar(
        title: Text(
          '‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á ${widget.routeId} - ‡∏ö‡∏ó ${widget.chapter} - ‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà ${currentIndex + 1}/${questions.length}',
        ),
        automaticallyImplyLeading: false,
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16),
        child: Column(
          children: [
            Stack(
              children: [
                Center(child: Image.asset(characterImage, height: 300)),
              ],
            ),
            const SizedBox(height: 20),
            if (!isVoiceQuestion)
              Text(
                questions[currentIndex],
                style: const TextStyle(
                  fontSize: 36,
                  fontWeight: FontWeight.bold,
                ),
                textAlign: TextAlign.center,
              ),
            if (isVoiceQuestion)
              Row(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  ElevatedButton.icon(
                    onPressed: () => _speak(questions[currentIndex]),
                    icon: const Icon(Icons.volume_up),
                    label: const Text("‡∏ü‡∏±‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå"),
                    style: ElevatedButton.styleFrom(
                      padding: const EdgeInsets.symmetric(
                        horizontal: 24,
                        vertical: 16,
                      ),
                      textStyle: const TextStyle(fontSize: 24),
                    ),
                  ),
                  const SizedBox(width: 16),
                  ElevatedButton.icon(
                    onPressed: () => _showTextDialog(questions[currentIndex]),
                    icon: const Icon(Icons.chrome_reader_mode),
                    label: const Text("‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°"),
                    style: ElevatedButton.styleFrom(
                      padding: const EdgeInsets.symmetric(
                        horizontal: 24,
                        vertical: 16,
                      ),
                      textStyle: const TextStyle(fontSize: 24),
                    ),
                  ),
                ],
              ),
            const SizedBox(height: 10),
            Text(
              // üîπ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
              Sub_questions[currentIndex],
              style: const TextStyle(fontSize: 30, fontWeight: FontWeight.w500),
              textAlign: TextAlign.center,
            ),
            const SizedBox(height: 10),
            ...options[currentIndex].map(
              (opt) => Align(
                alignment: Alignment.center, // ‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô
                child: Container(
                  width: 800, // ‚¨ÖÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÅ‡∏Ñ‡∏ö‡∏•‡∏á‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
                  child: Card(
                    color: _optionColor(opt),
                    margin: const EdgeInsets.symmetric(vertical: 4),
                    child: RadioListTile<String>(
                      title: Text(opt, style: const TextStyle(fontSize: 24)),
                      value: opt,
                      groupValue: userAnswers[currentIndex],
                      onChanged: (!answered && !isSubmitting)
                          ? (val) =>
                                setState(() => userAnswers[currentIndex] = val!)
                          : null,
                      contentPadding: const EdgeInsets.symmetric(
                        horizontal: 12,
                        vertical: 0,
                      ),
                      visualDensity: const VisualDensity(
                        horizontal: -2,
                        vertical: -2,
                      ),
                    ),
                  ),
                ),
              ),
            ),

            if (answered)
              Padding(
                padding: const EdgeInsets.all(8.0),
                child: Text(
                  isCorrect ? "‚úÖ ‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!" : "‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ô‡∏∞",
                  style: TextStyle(
                    fontSize: 18,
                    color: isCorrect ? Colors.green : Colors.red,
                  ),
                ),
              ),
            const SizedBox(height: 20),
            ElevatedButton(
              onPressed:
                  (!answered &&
                          userAnswers[currentIndex].isNotEmpty &&
                          !isSubmitting) ||
                      (answered && !isSubmitting)
                  ? _submitAnswer
                  : null,
              child: Text(
                answered
                    ? (currentIndex + 1 < questions.length ? '‡∏ñ‡∏±‡∏î‡πÑ‡∏õ' : '‡∏™‡πà‡∏á')
                    : '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô',
              ),
              style: ElevatedButton.styleFrom(
                padding: const EdgeInsets.symmetric(
                  horizontal: 40,
                  vertical: 16,
                ),
                textStyle: const TextStyle(fontSize: 24),
              ),
            ),
          ],
        ),
      ),
    );
  }
}
